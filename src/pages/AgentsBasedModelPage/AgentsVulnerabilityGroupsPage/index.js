import { Grid } from '@material-ui/core'
import React, { useState, Fragment } from 'react'
import AgentsTableConfiguration from '../../../components/AgentsModels/AgentsTableConfiguration'
import Breadcrumbs from '../../../components/Breadcrumbs'
import CompartmentalButton from '../../../components/CompartmentalModels/CompartmentalButton'
import SupportComponent from '../../../components/SupportComponent'
import LoaderComponent from '../../../components/ui/Loader'
import { HELP_INFORMATION_NEW_SIMULATIONS } from '../../../constants/helpInformation'
import { useAgentsVulnerabilityGroupsPageState } from './state'


const AgentsVulnerabilityGroupsPage = () => {
  
  const {
    handleClickSaveVulnerabilityGroups,
    tableColumns,
    items, 
    setItems,
    schemaItems,
    isValid
  }= useAgentsVulnerabilityGroupsPageState()

  return (
    <Fragment>
      
      <Grid container item xs={12} justify='center' alignItems='center'>
        <Grid container item xs={10}
          direction="row"
          justify="space-between"
          alignItems="center">
          <Grid><Breadcrumbs /></Grid>
          <Grid><SupportComponent title="Help" text={HELP_INFORMATION_NEW_SIMULATIONS} /></Grid>
        </Grid>
      
        <Grid 
          justify='flex-start'
          alignItems='center'
          container 
          item 
          xs={10}>
          <AgentsTableConfiguration
            showConfig={false}
            showCheck={false}
            distributionType="Vulnerability Groups Name"
            columns={tableColumns}
            initialItems={items}
            setItems={setItems}
            schemaItems={schemaItems}
            handleSettings={({index,item})=>{
              console.log(index)
              console.log(item)
              /*  setComponentChildren(OPTIONS_MODAL.DISTRIBUTION)
              setModalSettings({...modalSettings,open:true,item,index}) */
            }}          
          />  
        </Grid>

       

        <CompartmentalButton
          justify='flex-end'
          alignItems='center'
          text='Continue'
          onClick={()=>{
            handleClickSaveVulnerabilityGroups(items)
          }}
          disabled={!isValid?true:false}
        />                
      </Grid>

      {/* {isEmpty(parameterList) &&  <LoaderComponent width="100px" height={100} marginTop="100px" />} */}
    </Fragment>
  )
}

export default AgentsVulnerabilityGroupsPage
