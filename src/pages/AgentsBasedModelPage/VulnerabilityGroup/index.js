import React, { useEffect, useState } from 'react'
import DistributionsSettings from '../../../components/AgentsModels/AgentDiseaseState/DistributionsSettings'
import { ContagionDynamics } from '../../../components/VulnerabilityGroup'
import DiseaseState from '../../../pages/AgentsBasedModelPage/DiseaseState'
import { vulnerabilityGroupState } from './state'
import { vulnerabilityStyles } from './styles'
import SettingsComponent from '../../../components/AgentsModels/AgentDiseaseState/SettingsComponent/index'
import { Container } from '@material-ui/core'

const VulnerabilityGroup = () => {
  const classes = vulnerabilityStyles()
  const [ tableParameters, initialItemsDistribution, tableTransitionsParameters, handleSwitchChange, json ] = vulnerabilityGroupState()

  return (
    <>
      <div className={classes.generalContainer}>
        <Container>
          <Container maxWidth='xl'>
            <div className={classes.containerScreenFirstPart}>
              <ContagionDynamics
                classes={classes}
                json={json}
                handleSwitchChange={handleSwitchChange}
              />
              <hr />
              <div className={classes.containerDistributionsSettings}>
                <h3 className={classes.TitleColorFont}><strong>Distributions</strong></h3>
                <DistributionsSettings
                  distributionType="Disease State"
                  initialItems={initialItemsDistribution}
                  settingsComponent={SettingsComponent}
                />
              </div>
              <hr />
              <div className={classes.ctnDiseaseState}>
                <DiseaseState data={tableParameters} onchange={()=>{}}/>
              </div>
              <hr />
            </div>
          </Container>
          <h3 className={classes.TitleColorFont}><strong>Transitions</strong></h3>
          <div className={classes.ctnDiseaseStateSecond}>
            <DiseaseState data={tableTransitionsParameters} onchange={()=>{}}/>
          </div>
        </Container>
      </div>
    </>
  )
}

export default VulnerabilityGroup
